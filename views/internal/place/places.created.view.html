<div class="col-lg-6 col-md-12">
    <div class="x_panel">
        <div class="x_title">
            <h3>Pesquisar</h3>
            <form name="form">
                <div class="form-group">
                    <label class="form-control-label">Cidade</label>
                    <select placeholder="Cidade" ng-model="vm.searchcity" required class="form-control" ng-disabled="vm.disabledCities" ng-options="option.attributes.name for option in vm.cities track by option.id" title="Cidade">
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-control-label">Critério de busca</label>
                    <select placeholder="Critério de busca" ng-model="vm.searchcategory" required name="searchcategory" class="form-control" ng-options="option.criteria for option in vm.searchcategorylist track by option.id" title="Critério">
                    </select>
                </div>
                <div class="form-group" ng-if="vm.searchcategory.id == 0">
                    <label class="form-control-label">Nome</label>
                    <input id="searchstring" type="text" placeholder="Pesquisar" ng-model="vm.searchobj" class="form-control">
                </div>
                <div class="form-group" ng-if="vm.searchcategory.id == 1">
                    <label class="form-control-label">Rua</label>
                    <input id="searchstring" type="text" placeholder="Logradouro" ng-model="vm.searchobj" class="form-control">
                </div>
                <div class="form-group" ng-if="vm.searchcategory.id == 2">
                    <label class="form-control-label">Categoria</label>
                    <select ng-model="vm.searchobj" name="searchcategory" class="form-control" ng-options="option.attributes.namePT for option in vm.categories track by option.id" title="Critério">
                    </select>
                </div>
                <div class="form-actions">
                    <button ng-click="vm.SearchPlaces()" ng-disabled="!vm.searchobj || vm.searchLoading" class="btn btn-primary">Buscar</button>
                    <i ng-if="vm.searchLoading" class="fa fa-spinner fa-pulse fa-fw"></i>
                </div>
            </form>
        </div>
        <div class="x_title" ng-if="vm.SearchPerformed">
            <h3>Resultados da pesquisa</h3>
        </div>
        <div class="x_content">
            <div ng-if="vm.searchLoading">
                <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>
                <span class="sr-only">Loading...</span>
            </div>
            <div ng-if="!vm.searchLoading && vm.SearchPerformed && vm.noSearchedPlacesFound">
                <p>Nenhum local encontrado.</p>
            </div>
            <uib-accordion close-others="true">
                <div uib-accordion-group class="panel-default" ng-repeat="place in vm.filteredSearchedPlaces">
                    <div uib-accordion-heading>
                        <b>{{ place.attributes.name }} <small> {{ place.attributes.category.attributes.namePT }}</small></b>
                    </div>
                    <p>Endereço: {{ place.attributes.address }}</p>
                    <a ui-sref="app.places.request_admin({ parse_place: place })" class="btn btn-primary"><i class="fa fa-unlock-alt"></i> Gerir Local</a>
                    <a ui-sref="app.places.edit({ parse_place: place })" class="btn btn-primary"><i class="fa fa-pencil-square-o"></i> Editar</a>
                </div>
            </uib-accordion>
        </div>
        <ul ng-if="vm.SearchPerformed && !vm.noSearchedPlacesFound && (vm.searchedPlaces.length > vm.numSearchPerPage)" uib-pagination direction-links="false" boundary-links="false" items-per-page="vm.numSearchPerPage" total-items="vm.searchedPlaces.length" ng-model="vm.currentSearchPage"></ul>
    </div>
</div>
<div class="col-lg-6 col-md-12">
    <div class="x_panel">
        <div class="x_title">
            <h3>Locais cadastrados por mim</h3>
        </div>
        <div class="x_content">
            <div ng-if="vm.dataLoading">
                <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>
                <span class="sr-only">Loading...</span>
            </div>
            <div ng-if="!vm.dataLoading && vm.noCreatedPlacesFound">
                <p>Nenhum local cadastrado.</p>
            </div>
            <uib-accordion close-others="true">
                <div uib-accordion-group class="panel-default" ng-repeat="place in vm.filteredPlaces">
                    <div uib-accordion-heading>
                        <b>{{ place.attributes.name }} <small> {{ place.attributes.category.attributes.namePT }}</small></b>
                    </div>
                    <p>Endereço: {{ place.attributes.address }}</p>
                    <a ui-sref="app.places.request_admin({ parse_place: place })" class="btn btn-primary"><i class="fa fa-unlock-alt"></i> Gerir Local</a>
                    <a ui-sref="app.places.edit({ parse_place: place })" class="btn btn-primary"><i class="fa fa-pencil-square-o"></i> Editar</a>
                </div>
            </uib-accordion>
        </div>
        <ul ng-if="!vm.dataLoading && !vm.noCreatedPlacesFound && (vm.created_places.length > vm.numPerPage)" uib-pagination direction-links="false" boundary-links="false" items-per-page="vm.numPerPage" total-items="vm.created_places.length" ng-model="vm.currentPage"></ul>
    </div>
</div>